"use strict";(self.webpackChunkdatasirpi_web=self.webpackChunkdatasirpi_web||[]).push([[228],{4228:(e,a,l)=>{l.r(a),l.d(a,{default:()=>d});var s=l(5043),t=l(2134),c=l(9217),i=l(2388),r=l(579);const n=e=>{let{blogs:a,onSelectBlog:l}=e;const s=(0,t.Zp)();return(0,r.jsxs)("div",{className:"blog-list",children:[(0,r.jsx)("h1",{className:"blog-list-title",children:"Our Blog"}),(0,r.jsx)("p",{className:"blog-list-subtitle",children:"Insights and updates from Datasirpi"}),(0,r.jsx)("div",{className:"blog-grid",children:a.map((e=>{var a,l;return(0,r.jsxs)("article",{className:"blog-card",onClick:()=>(e=>{s(`${c.If.blogs}/${e.slug}`)})(e),children:[e.thumbnail&&(0,r.jsx)("div",{className:"blog-card-image",children:(0,r.jsx)("img",{src:e.thumbnail,alt:e.title})}),(0,r.jsxs)("div",{className:"blog-card-content",children:[(0,r.jsxs)("div",{className:"blog-card-meta",children:[(0,r.jsx)("span",{className:"blog-card-date",children:(l=e.created_at,new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}),e.tags&&e.tags.length>0&&(0,r.jsx)("div",{className:"blog-card-tags",children:e.tags.slice(0,3).map((e=>(0,r.jsx)("span",{className:"blog-tag",children:e.name||e},e.id||e.name)))})]}),(0,r.jsx)("h2",{className:"blog-card-title",children:e.title}),(0,r.jsx)("p",{className:"blog-card-excerpt",children:e.excerpt}),(0,r.jsx)("div",{className:"blog-card-author",children:(0,r.jsxs)("span",{children:["By ",(null===(a=e.author)||void 0===a?void 0:a.name)||"Datasirpi"]})})]})]},e.id)}))}),0===a.length&&(0,r.jsx)("div",{className:"blog-empty",children:(0,r.jsx)("p",{children:"No blog posts available yet."})})]})},o=e=>{var a;let{blog:l,onBack:s}=e;const i=(0,t.Zp)();return(0,r.jsxs)("div",{className:"blog-detail",children:[(0,r.jsx)("button",{className:"blog-back-btn",onClick:()=>i(c.If.blogs),children:"\u2190 Back to Blogs"}),(0,r.jsxs)("article",{className:"blog-article",children:[l.thumbnail&&(0,r.jsx)("img",{src:l.thumbnail,alt:l.title,className:"blog-article-thumbnail"}),(0,r.jsxs)("header",{className:"blog-article-header",children:[(0,r.jsx)("h1",{className:"blog-article-title",children:l.title}),(0,r.jsxs)("div",{className:"blog-article-meta",children:[(0,r.jsxs)("span",{className:"blog-article-author",children:["By ",(null===(a=l.author)||void 0===a?void 0:a.name)||"Datasirpi"]}),(0,r.jsx)("span",{className:"blog-article-date",children:(n=l.created_at,new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))})]}),l.tags&&l.tags.length>0&&(0,r.jsx)("div",{className:"blog-article-tags",children:l.tags.map((e=>(0,r.jsx)("span",{className:"blog-tag",children:e.name||e},e.id||e.name)))})]}),l.excerpt&&(0,r.jsx)("p",{className:"blog-article-excerpt",children:l.excerpt}),(0,r.jsx)("div",{className:"blog-article-content",dangerouslySetInnerHTML:{__html:l.content}})]})]});var n},d=()=>{const{id:e}=(0,t.g)(),[a,l]=(0,s.useState)([]),[d,g]=(0,s.useState)(null),[b,h]=(0,s.useState)(!0),[m,u]=(0,s.useState)(null),x=(0,s.useCallback)((async()=>{try{h(!0),u(null);const e=c.TT.siteTag?`${c.TT.baseUrl}/api/blogs/tags/${c.TT.siteTag}`:`${c.TT.baseUrl}/api/blogs`,a=await fetch(e);if(!a.ok)throw new Error("Failed to fetch blogs");const s=await a.json(),t=s.data||s||[];l(Array.isArray(t)?t:[])}catch(e){console.error("Error fetching blogs:",e),u(e.message),l([])}finally{h(!1)}}),[]),j=(0,s.useCallback)((async e=>{try{h(!0),u(null);const a=await fetch(`${c.TT.baseUrl}/api/blogs/${e}`);if(!a.ok)throw new Error("Blog not found");const l=await a.json();g(l)}catch(a){console.error("Error fetching blog:",a),u(a.message)}finally{h(!1)}}),[]);return(0,s.useEffect)((()=>{e?j(e):(x(),g(null))}),[e,x,j]),b?(0,r.jsx)("div",{className:"blog-container",children:(0,r.jsxs)("div",{className:"blog-loading",children:[(0,r.jsx)("div",{className:"blog-spinner"}),(0,r.jsx)("p",{children:"Loading..."})]})}):m?(0,r.jsx)("div",{className:"blog-container",children:(0,r.jsxs)("div",{className:"blog-error",children:[(0,r.jsx)("p",{children:"Unable to load blogs. Please try again later."}),(0,r.jsx)("button",{onClick:()=>e?j(e):x(),children:"Retry"})]})}):(0,r.jsxs)("div",{className:"blog-container",children:[(0,r.jsx)(i.A,{title:d?d.title:"Blog",description:d?d.excerpt:"Insights, updates and technical articles from Datasirpi on platform engineering, cybersecurity, Salesforce, and AI.",canonical:d?`/blogs/${d.slug}`:"/blogs",keywords:"blog, technology, platform engineering, cybersecurity, Salesforce, AI, cloud computing",type:d?"article":"website"}),d?(0,r.jsx)(o,{blog:d}):(0,r.jsx)(n,{blogs:a})]})}}}]);
//# sourceMappingURL=228.ca2c97f0.chunk.js.map